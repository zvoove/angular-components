<form *ngIf="dataSource" class="zv-form__main-container" [formGroup]="form" [autocomplete]="autocomplete">
  <div class="zv-form__cards-container">
    <zv-block-ui *ngIf="contentVisible" [blocked]="contentBlocked">
      <ng-content></ng-content>
    </zv-block-ui>

    <div #errorCardWrapper [style.display]="exception ? 'block' : 'none'">
      <mat-card *ngIf="exception" class="zv-form__error-container" [class.zv-form__error-container--center]="exception.alignCenter">
        <mat-icon *ngIf="exception.icon" class="zv-form__error-icon">{{ exception.icon }}</mat-icon>
        <span>{{ exception.errorObject | zvErrorMessage }}</span>
      </mat-card>
    </div>
  </div>

  <mat-card *ngIf="!savebarHidden" class="zv-form__savebar" [class.zv-form__savebar--sticky]="savebarSticky">
    <div class="zv-form__savebar-container">
      <zv-form-errors [form]="form"></zv-form-errors>
      <div class="zv-form__savebar-spacer"></div>
      <div class="zv-form__buttons">
        <ng-content select="[zvFormSavebarButtons]"></ng-content>
        <button
          *ngFor="let btn of buttons"
          mat-button
          [class.mat-raised-button]="btn.type === 'raised'"
          [class.mat-stroked-button]="btn.type === 'stroked'"
          [class.mat-icon-button]="btn.type === 'icon'"
          type="button"
          [color]="btn.color"
          [disabled]="btn.disabled && btn.disabled()"
          (click)="btn.click()"
        >
          <mat-icon *ngIf="btn.icon">{{ btn.icon }}</mat-icon>
          {{ btn.label }}
        </button>
      </div>
    </div>
  </mat-card>
</form>
