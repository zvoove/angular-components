<zv-flip-container [animation]="'fade'">
  <div *zvFlipContainerFront>
    <zv-table-header
      [caption]="caption"
      [topButtonSection]="topButtonSection"
      [selectedRows]="dataSource.selectionModel.selected"
      [customHeader]="customHeader"
      [showSorting]="showSorting"
      [sortColumn]="sortColumn"
      [sortDirection]="sortDirection"
      [sortDefinitions]="sortDefinitions"
      [filterable]="filterable"
      [searchText]="filterText"
      (sortChanged)="onSortChanged($event)"
      (searchChanged)="onSearchChanged($event)"
    ></zv-table-header>

    <zv-block-ui [blocked]="showLoading" [clickthrough]="true">
      <zv-table-data
        [dataSource]="dataSource"
        [tableId]="tableId"
        [rowDetail]="rowDetail"
        [columnDefs]="columnDefs"
        [refreshable]="refreshable"
        [settingsEnabled]="settingsEnabled"
        [showListActions]="showListActions"
        [displayedColumns]="displayedColumns"
        (showSettingsClicked)="flipContainer.showBack()"
        (refreshDataClicked)="onRefreshDataClicked()"
      ></zv-table-data>

      <div class="zv-table__no-entries-text" *ngIf="showNoEntriesText" i18n="@@zvc.noEntries">No entries</div>
      <div class="zv-table__error-text" *ngIf="showError">{{ errorMessage }}</div>
      <zv-table-pagination
        [pageSize]="pageSize"
        [dataLength]="dataLength"
        [pageIndex]="pageIndex"
        [pageSizeOptions]="pageSizeOptions"
        [pageDebounce]="pageDebounce"
        (page)="onPage($event)"
      ></zv-table-pagination>
    </zv-block-ui>
  </div>
  <div *zvFlipContainerBack>
    <zv-table-settings
      *ngIf="settingsEnabled"
      [tableId]="tableId"
      [columnDefinitions]="columnDefs"
      [sortDefinitions]="sortDefinitions"
      [pageSizeOptions]="pageSizeOptions"
      (settingsAborted)="flipContainer.showFront()"
      (settingsSaved)="onSettingsSaved()"
      [customSettings]="customSettings"
    >
    </zv-table-settings>
  </div>
</zv-flip-container>
